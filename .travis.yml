sudo: required

language: node_js

node_js:
  - "6"

install:
  - yarn

before_install:
  - sudo apt-get update
  - sudo apt-get install oracle-java8-installer
  - sudo update-java-alternatives -s java-8-oracle

  # https://docs.travis-ci.com/user/gui-and-headless-browsers/
  # start your web application and listen on `localhost`
  - chrome --headless --disable-gpu --remote-debugging-port=9222 http://localhost

before_script:
  - phantomjs --version
  - export DISPLAY=:99.0
  - sh -e /etc/init.d/xvfb start

script: npm test

dist: trusty

addons:
  chrome: stable

cache:
  yarn: true
