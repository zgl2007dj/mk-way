sudo: required
dist: trusty

language: node_js
node_js:
  - "6"

install:
  - yarn

before_install:
  - sudo apt-get update
  - sudo apt-get install oracle-java8-installer
  - sudo update-java-alternatives -s java-8-oracle

  - phantomjs --version
  # https://docs.travis-ci.com/user/gui-and-headless-browsers/
  # start your web application and listen on `localhost`
  #- google-chrome-stable --headless --disable-gpu --remote-debugging-port=9222 http://localhost

script:
  - npm test
  - npm run build

cache:
  yarn: true

env:
  global:
    - "FTP_USER=user"
    - "FTP_PASSWORD=password"
after_success:
  - ls dist

branches:
  only:
  - master
